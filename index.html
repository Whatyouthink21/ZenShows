<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZEN Streams | Premium Free Streaming</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
    <link rel="icon" type="image/x-icon" href="https://img.icons8.com/color/96/000000/film-reel.png">
    <style>
        /* Loading screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.8s ease;
        }
        
        .loader {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 5px solid rgba(255,255,255,0.1);
            border-top-color: #ff4757;
            animation: spin 1s infinite linear;
        }
        
        @keyframes spin {
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen">
        <div class="loader"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <div class="logo">
                    <i class="fas fa-play-circle"></i>
                    <span class="logo-text">ZEN<span class="logo-highlight">STREAMS</span></span>
                </div>
                <button class="hamburger-menu" id="hamburger">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </button>
            </div>

            <div class="nav-search">
                <div class="search-container">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search movies, TV shows...">
                    <div class="search-results" id="searchResults">
                        <!-- Results populated by JS -->
                    </div>
                </div>
            </div>

            <div class="nav-actions">
                <button class="nav-btn random-movie" id="randomBtn" title="I'm Feeling Lucky">
                    <i class="fas fa-random"></i>
                    <span class="btn-text">Random</span>
                </button>
                <button class="nav-btn theme-toggle" id="themeToggle" title="Toggle Theme">
                    <i class="fas fa-moon"></i>
                    <span class="btn-text">Theme</span>
                </button>
                <button class="nav-btn" id="watchlistBtn" title="My Watchlist">
                    <i class="fas fa-bookmark"></i>
                    <span class="btn-text">Watchlist</span>
                </button>
                <button class="nav-btn" id="historyBtn" title="Watch History">
                    <i class="fas fa-history"></i>
                    <span class="btn-text">History</span>
                </button>
                <button class="nav-btn" id="settingsBtn" title="Settings">
                    <i class="fas fa-cog"></i>
                    <span class="btn-text">Settings</span>
                </button>
                <button class="nav-btn user-profile" id="userBtn">
                    <i class="fas fa-user"></i>
                    <span class="btn-text">Profile</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Side Menu -->
    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <div class="logo">
                <i class="fas fa-play-circle"></i>
                <span>ZEN<span class="logo-highlight">STREAMS</span></span>
            </div>
            <button class="close-menu" id="closeMenu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="menu-items">
            <a href="#" class="menu-item active" data-section="home">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="#" class="menu-item" data-section="movies">
                <i class="fas fa-film"></i>
                <span>Movies</span>
            </a>
            <a href="#" class="menu-item" data-section="tv">
                <i class="fas fa-tv"></i>
                <span>TV Shows</span>
            </a>
            <a href="#" class="menu-item" data-section="trending">
                <i class="fas fa-fire"></i>
                <span>Trending</span>
            </a>
            <a href="#" class="menu-item" data-section="new">
                <i class="fas fa-calendar-alt"></i>
                <span>New Releases</span>
            </a>
            <a href="#" class="menu-item" id="menuWatchlist">
                <i class="fas fa-bookmark"></i>
                <span>My Watchlist</span>
                <span class="badge" id="watchlistCount">0</span>
            </a>
            <a href="#" class="menu-item" id="menuHistory">
                <i class="fas fa-history"></i>
                <span>Watch History</span>
            </a>
            <div class="menu-divider"></div>
            <a href="#" class="menu-item" data-section="settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </div>
        <div class="menu-footer">
            <div class="theme-switch">
                <span>Dark Mode</span>
                <label class="switch">
                    <input type="checkbox" id="menuThemeToggle">
                    <span class="slider"></span>
                </label>
            </div>
        </div>
    </div>
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Banner -->
        <section class="hero-section" id="hero">
            <div class="swiper hero-swiper">
                <div class="swiper-wrapper" id="heroSlides">
                    <!-- Hero slides populated by JS -->
                </div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </section>

        <!-- Continue Watching -->
        <section class="content-section" id="continueWatching">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-play-circle"></i>
                    Continue Watching
                </h2>
                <a href="#" class="view-all" id="viewAllHistory">View All</a>
            </div>
            <div class="movies-grid" id="continueGrid">
                <!-- Continue watching items populated by JS -->
                <div class="empty-state">
                    <i class="fas fa-film"></i>
                    <p>No content in progress. Start watching something!</p>
                </div>
            </div>
        </section>
                <!-- Recommended For You -->
        <section class="content-section" id="recommended">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-star"></i>
                    Recommended For You
                </h2>
                <div class="section-tabs">
                    <button class="tab-btn active" data-rec-type="movies">Movies</button>
                    <button class="tab-btn" data-rec-type="tv">TV Shows</button>
                </div>
            </div>
            <div class="movies-grid" id="recommendedGrid">
                <!-- Recommendations populated by JS -->
            </div>
        </section>

        <!-- Trending Now -->
        <section class="content-section" id="trending">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-fire"></i>
                    Trending Now
                </h2>
                <div class="trending-filter">
                    <select id="trendingFilter">
                        <option value="day">Today</option>
                        <option value="week">This Week</option>
                    </select>
                </div>
            </div>
            <div class="movies-grid" id="trendingGrid">
                <!-- Trending items populated by JS -->
            </div>
        </section>

        <!-- New Releases Calendar -->
        <section class="content-section" id="newReleases">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-calendar-alt"></i>
                    New Releases Calendar
                </h2>
                <div class="calendar-nav">
                    <button id="prevMonth"><i class="fas fa-chevron-left"></i></button>
                    <span id="currentMonth">January 2024</span>
                    <button id="nextMonth"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
            <div class="calendar-container" id="calendar">
                <!-- Calendar populated by JS -->
            </div>
        </section>

        <!-- Movies Grid -->
        <section class="content-section" id="moviesSection">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-film"></i>
                    Popular Movies
                </h2>
                <div class="section-filters">
                    <select id="genreFilter">
                        <option value="">All Genres</option>
                    </select>
                    <select id="yearFilter">
                        <option value="">All Years</option>
                    </select>
                    <select id="sortFilter">
                        <option value="popularity">Popularity</option>
                        <option value="rating">Rating</option>
                        <option value="newest">Newest</option>
                    </select>
                </div>
            </div>
            <div class="movies-grid" id="moviesGrid">
                <!-- Movies populated by JS -->
            </div>
            <div class="load-more-container">
                <button class="load-more-btn" id="loadMoreMovies">Load More Movies</button>
            </div>
        </section>
    </main>

    <!-- Video Player Modal -->
    <div class="player-modal" id="playerModal">
        <div class="player-container">
            <div class="player-header">
                <h3 id="playerTitle">Movie Title</h3>
                <button class="close-player" id="closePlayer">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="video-container">
                <video id="mainVideo" controls preload="metadata" crossorigin="anonymous">
                    <source id="videoSource" src="" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div class="quality-selector" id="qualitySelector">
                    <button class="quality-btn active" data-quality="auto">Auto</button>
                    <button class="quality-btn" data-quality="360">360p</button>
                    <button class="quality-btn" data-quality="480">480p</button>
                    <button class="quality-btn" data-quality="720">720p</button>
                    <button class="quality-btn" data-quality="1080">1080p</button>
                </div>
                <div class="source-selector" id="sourceSelector">
                    <button class="source-btn active" data-source="1">Source 1</button>
                    <button class="source-btn" data-source="2">Source 2</button>
                    <button class="source-btn" data-source="3">Source 3</button>
                    <button class="source-btn" data-source="4">Source 4</button>
                    <button class="source-btn" data-source="5">Source 5</button>
                    <button class="source-btn" data-source="6">Source 6</button>
                </div>
            </div>
            <div class="player-info">
                <div class="player-meta">
                    <span class="meta-item" id="playerYear">2023</span>
                    <span class="meta-item" id="playerRating">★ 8.5</span>
                    <span class="meta-item" id="playerRuntime">2h 15m</span>
                </div>
                <div class="player-actions">
                    <button class="player-action-btn" id="addToWatchlist">
                        <i class="far fa-bookmark"></i>
                        <span>Watchlist</span>
                    </button>
                    <button class="player-action-btn" id="downloadBtn">
                        <i class="fas fa-download"></i>
                        <span>Download</span>
                    </button>
                    <button class="player-action-btn" id="screenshotBtn">
                        <i class="fas fa-camera"></i>
                        <span>Screenshot</span>
                    </button>
                </div>
            </div>
            <div class="player-synopsis">
                <h4>Synopsis</h4>
                <p id="playerDescription">Movie description goes here...</p>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="settings-modal" id="settingsModal">
        <div class="settings-container">
            <div class="settings-header">
                <h3><i class="fas fa-cog"></i> Settings</h3>
                <button class="close-settings" id="closeSettings">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="settings-content">
                <div class="settings-section">
                    <h4><i class="fas fa-video"></i> Playback Settings</h4>
                    <div class="setting-item">
                        <label>Default Quality</label>
                        <select id="defaultQuality">
                            <option value="auto">Auto</option>
                            <option value="1080">1080p</option>
                            <option value="720">720p</option>
                            <option value="480">480p</option>
                            <option value="360">360p</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Default Source</label>
                        <select id="defaultSource">
                            <option value="1">Source 1 (Fastest)</option>
                            <option value="2">Source 2</option>
                            <option value="3">Source 3</option>
                            <option value="4">Source 4</option>
                            <option value="5">Source 5</option>
                            <option value="6">Source 6</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Autoplay Next Episode</label>
                        <label class="switch">
                            <input type="checkbox" id="autoplayToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4><i class="fas fa-user"></i> Account Settings</h4>
                    <div class="setting-item">
                        <label>Profile Name</label>
                        <input type="text" id="profileName" placeholder="Enter your name">
                    </div>
                    <div class="setting-item">
                        <label>Clear Watch History</label>
                        <button class="danger-btn" id="clearHistory">Clear All</button>
                    </div>
                    <div class="setting-item">
                        <label>Export Data</label>
                        <button class="secondary-btn" id="exportData">Export to JSON</button>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4><i class="fas fa-paint-brush"></i> Interface Settings</h4>
                    <div class="setting-item">
                        <label>Animation Intensity</label>
                        <select id="animationLevel">
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                            <option value="none">None</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Hover Effects</label>
                        <label class="switch">
                            <input type="checkbox" id="hoverEffectsToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="settings-footer">
                <button class="save-btn" id="saveSettings">Save Settings</button>
                <button class="reset-btn" id="resetSettings">Reset to Default</button>
            </div>
        </div>
    </div>

    <!-- Movie Details Modal -->
    <div class="details-modal" id="detailsModal">
        <!-- Will be populated by JS -->
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <div class="logo">
                    <i class="fas fa-play-circle"></i>
                    <span class="logo-text">ZEN<span class="logo-highlight">STREAMS</span></span>
                </div>
                <p class="footer-description">
                    Your premier destination for free HD streaming. Discover thousands of movies and TV shows.
                </p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-discord"></i></a>
                    <a href="#"><i class="fab fa-github"></i></a>
                    <a href="#"><i class="fab fa-telegram"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul class="footer-links">
                    <li><a href="#" data-section="home">Home</a></li>
                    <li><a href="#" data-section="movies">Movies</a></li>
                    <li><a href="#" data-section="tv">TV Shows</a></li>
                    <li><a href="#" data-section="trending">Trending</a></li>
                    <li><a href="#" id="footerRandom">Random Title</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Legal</h4>
                <ul class="footer-links">
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                    <li><a href="#">DMCA</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Data Provided By</h4>
                <div class="tmdb-credit">
                    <img src="https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg" alt="TMDB Logo" height="40">
                    <p>This product uses the TMDB API but is not endorsed or certified by TMDB.</p>
                    <p class="api-key-info">API Key: a45420333457411e78d5ad35d6c51a2d</p>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>© 2024 ZEN Streams. All content is provided by third-party sources.</p>
            <p class="firebase-credit">Powered by <i class="fas fa-fire"></i> Firebase</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script type="module">
        // Firebase Import
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, doc, setDoc, getDoc, updateDoc, arrayUnion, arrayRemove } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getAuth, onAuthStateChanged, signInAnonymously } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCRwom-ZDQy_4AWX-8TknWzii_GVxw33hk",
            authDomain: "zenshows-c4255.firebaseapp.com",
            projectId: "zenshows-c4255",
            storageBucket: "zenshows-c4255.firebasestorage.app",
            messagingSenderId: "824547918366",
            appId: "1:824547918366:web:5b1ae5de7b083a2f77640f",
            measurementId: "G-268SWMN17W"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        // Make Firebase available globally
        window.firebaseApp = app;
        window.firebaseDb = db;
        window.firebaseAuth = auth;
    </script>
    <script src="script.js"></script>
</body>
</html>
